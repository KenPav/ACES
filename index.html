
<!-- FBGC ACE Golf League Program-->
<html> 
<head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">


</head>
 <body>
    <p align="center"> 
    <!--This draws the Canvas on the webpage -->
      <canvas id="mycanvas"></canvas> 
    </p>
 </body>
 
 <!-- Run all the JavaScript stuff -->
 <!-- Include the processing.js library -->
 <!-- See https://khanacademy.zendesk.com/hc/en-us/articles/202260404-What-parts-of-ProcessingJS-does-Khan-Academy-support- for differences -->
 <script src="https://cdn.jsdelivr.net/processing.js/1.4.8/processing.min.js"></script>

 <script>
 


    var ACE = function(processingInstance) {
     with (processingInstance) {

        size(800,1200);
        
        frameRate(30);
      
        // ProgramCodeGoesHere

         var temp = 0;
         var temp2 = 0;
         var clkclr = color(150,150,150);
         var blk = color(0, 0, 0);
         var BoxColor = color(65,200,240);
         var SelectBoxColor = color(0,255,200);
         var BackColor = color(180,200,240);
         stroke(blk);
         strokeWeight(2);

         background(BackColor);


         // Strokes-Par+4 = Point Value in Array
         const PointValue = [10,8,6,4,2,1,0,0,0,0];
         //TotalStrokes Array F,B,T 4 Players and Round Par
         const TotalStrokes = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
         //TotalPoints Array F,B,T Points, 4 Players plus Team Total
         const TotalPoints = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];

        // Courses: 0=South 1=North 2=West
        // Par Element: 0-8=South 9-17=North 18-27=West
        // Par Element Values: Courses*9 + Hole Number - 1
         const HolePar = [5,4,3,5,4,4,3,4,4,4,5,3,4,4,4,4,3,4,4,5,4,4,5,3,4,5,3];
         const Courses = ["South","North","West"];



        // Up To Four Players With Their Total Course Handicap
        // PFP=Players Required Front Points
        // PBP=Players Required Back Points
        
         const PlayerName = ["","","",""];
         const PlayerCourseHandicap = [0,0,0,0];
         const PFP = [0,0,0,0];
         const PBP = [0,0,0,0];
        // 
        // Up To 4 Players(0-3), 18 Hole Strokes Entry per Player
        // PlayerScore is up to 4 players plus team total
        // Index = Player#*18 + Hole Number - 1
         const PlayerHoleStrokes = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
         const PlayerHoleScore = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];

         var ScreenSelect = function() {

            fill(BoxColor);
            
            rect(0,1050,200,100);
            rect(200,1050,200,100);
            rect(400,1050,200,100);           
            rect(600,1050,200,100);

            textSize(50);
            textAlign(CENTER);
            fill(blk);

            text("Setup",100,1115);
            text("Scores",300,1115);
            text("Score",500,1095);
            text("Card",500,1135);
            text("Results",700,1115);
         }

//       AceScreen = 1

         Counter=0;
         var enterSetup = function() {
               
               textSize(50);
               textAlign(CENTER);
               if(CourseSet===0) {

//             SELECT FRONT COURSE
                  fill(blk);
                  text("Select Front 9 Course",400,60);
                  if (Front===0) {
                     fill(SelectBoxColor);
                  } else { 
                     fill(BoxColor);
                  }
                  rect(100,70,200,70);
                  fill(blk);
                  text("South",200,125);
                  if (Front===1) {
                     fill(SelectBoxColor);
                  } else { 
                     fill(BoxColor);
                  }                  
                  rect(300,70,200,70);
                  fill(blk);
                  text("North",400,125);
                  if (Front===2) {
                     fill(SelectBoxColor);
                  } else { 
                     fill(BoxColor);
                  }                  
                  rect(500,70,200,70);
                  fill(blk);
                  text("West",600,125);


//             SELECT BACK COURSE    
                  fill(blk);
                  text("Select Back 9 Course",400,190);
                  if (Back===0) {
                     fill(SelectBoxColor);
                  } else { 
                     fill(BoxColor);
                  }                  
                  rect(100,200,200,70);
                  fill(blk);
                  text("South",200,255);
                  if (Back===1) {
                     fill(SelectBoxColor);
                  } else { 
                     fill(BoxColor);
                  }                                    
                  rect(300,200,200,70);
                  fill(blk);
                  text("North",400,255);
                  if (Back===2) {
                     fill(SelectBoxColor);
                  } else { 
                     fill(BoxColor);
                  }                                    
                  rect(500,200,200,70);
                  fill(blk);
                  text("West",600,255);
                  fill(BoxColor);
                  rect(300,300,200,70);
                  fill(blk);
                  text("Continue",400,355);
                  return;  
               }

               if (CourseSet===1) {
                  if (NumberOfPlayers===0) {
                     do {
                        NoP=NumberOfPlayers.toString();
                        NoP=prompt("Number of Players (1-4): "+NoP,NoP);
                        NumberOfPlayers=Number(NoP);
                     }
                     while (!(NumberOfPlayers===1 || NumberOfPlayers===2 || NumberOfPlayers===3 || NumberOfPlayers===4 )); 

                     for (var i = 0; i < NumberOfPlayers; i++) {
                        PlayerName[i]=prompt("Player #"+(i+1).toString()+" Name: "+PlayerName[i],PlayerName[i].toString());
                        PlayerCourseHandicap[i]=prompt(PlayerName[i]+"'s Course Handicap: "+PlayerCourseHandicap[i]+"  (i = "+i+")",PlayerCourseHandicap[i]);
                        temp=floor((36-PlayerCourseHandicap[i])/2);
                        temp2=36-(temp*2);
                        if (temp2==PlayerCourseHandicap[i]) {
                           PFP[i]=temp;
                           PBP[i]=temp;
                        }
                        else {
                           if (Front>Back) {
                              PFP[i]=temp;
                              PBP[i]=temp+1;
                           }
                           else {
                              PFP[i]=temp+1;
                              PBP[i]=temp;
                           }
                        }
                     }
                  }
                  CourseSet=2;
                  return;
               }

               if (CourseSet===2) {
                  fill(BoxColor);
                  rect(0,400,200,100);
                  rect(200,400,200,100);
                  rect(400,400,200,100);
                  rect(600,400,200,100);
                  fill(blk);
                  text("Player",100,470);
                  text("Course",300,450);
                  text(Courses[Front],500,450);
                  text(Courses[Back],700,450);
                  text("Hcp",300,490);
                  text("Points",500,490);
                  text("Points",700,490);
                  for (var i = 0; i < NumberOfPlayers; i++) {
                     fill(BoxColor);
                     rect(0,500+i*70,200,70);
                     rect(200,500+i*70,200,70);
                     rect(400,500+i*70,200,70);
                     rect(600,500+i*70,200,70);
                     fill(blk);
                     text(PlayerName[i],100,555+i*70);
                     text(PlayerCourseHandicap[i],300,555+i*70);
                     text(PFP[i],500,555+i*70);
                     text(PBP[i],700,555+i*70);
                  }
                  fill(BoxColor);
                  rect(300,800,200,70);
                  fill(blk);
                  text("Continue",400,855);
               }
                 
         };

//               AceScreen = 2;
            
            

         var enterStrokes = function(Hole) {
            textSize(50);
            textAlign(CENTER);
            fill(blk);
            text("Hole #"+HoleNum,400,65)
            if(HoleNum<=9) {
               text("Front 9: "+Courses[Front]+" #"+HoleNum+" / Par "+HolePar[(Front*9)+HoleNum-1],400,125);
            }
            else {
               text("Back 9: "+Courses[Back]+" #"+(HoleNum-9)+" / Par "+HolePar[(Back*9)+HoleNum-10],400,125);
            }
            text("Select Hole Score for Each Player",400,185);
            for (var i = 0; i < NumberOfPlayers; i++) {
               fill(BoxColor);
               rect(0,200+i*80,220,80);
               fill(blk);
               text(PlayerName[i],110,265+i*80);
               for (var j = 0; j < 8; j++) {
                  if(PlayerHoleStrokes[i*18+HoleNum-1]===j+1) {
                     fill(SelectBoxColor);
                     rect(220+j*70,200+i*80,70,80);
                  }
                  else {
                     fill(BoxColor);
                     rect(220+j*70,200+i*80,70,80);
                  }
                  fill(blk);
                  text(j+1,255+j*70,265+i*80);
               }

            }

            fill(BoxColor);
            rect(50,550,200,80);
            rect(550,550,200,80);
            rect(275,550,250,80);
            fill(blk);
            text("Previous",150,615);
            text("Next",650,615);
            text("Points: "+PlayerHoleScore[4*18+HoleNum-1],400,615);


            
            
         };

         var showScoreCard = function() {
            for (var i=0; i<15; i++) {
               TotalPoints[i] = 0;
               TotalStrokes[i] = 0;
            }
            for (var i=0; i<4; i++) {
               for (var j=1; j<19; j++) {
                  if (j<10) {
                     TotalStrokes[i*3] = TotalStrokes[i*3] + PlayerHoleStrokes[i*18+j-1];
                     TotalPoints[i*3] = TotalPoints[i*3] + PlayerHoleScore[i*18+j-1];
                  }
                  else {
                     TotalStrokes[i*3+1] = TotalStrokes[i*3+1] + PlayerHoleStrokes[i*18+j-1];
                     TotalPoints[i*3+1] = TotalPoints[i*3+1] + PlayerHoleScore[i*18+j-1];
                  }
               }
               TotalStrokes[i*3+2] = TotalStrokes[i*3] + TotalStrokes[i*3+1];
               TotalPoints[i*3+2] = TotalPoints[i*3] + TotalPoints[i*3+1];
            }

            for (var i=0; i<4; i++) {
               TotalPoints[12] = TotalPoints[12] + TotalPoints[i*3];
               TotalPoints[13] = TotalPoints[13] + TotalPoints[i*3+1];
               TotalPoints[14] = TotalPoints[14] + TotalPoints[i*3+2];
            }
            for (var i=0; i<9; i++) {
               TotalStrokes[12] = TotalStrokes[12] + HolePar[i];
               TotalStrokes[13] = TotalStrokes[13] + HolePar[i+9];
            }
            TotalStrokes[14] = TotalStrokes[12] + TotalStrokes[13];


            textSize(25);
            textAlign(CENTER);
            fill(BoxColor);
            rect(0,0,170,50);
            rect(170,0,170+9*30,50);
            rect(170+10*30,0,170+9*30,50);
            rect(170+20*30,0,170+21*30,50);
            fill(blk);
            text("Players",85,40);
            text("Front 9: "+Courses[Front],320,40);
            text("Back 9: "+Courses[Back],620,40);
            text("T",785,40);
            for (var j=0; j<6; j++) {
               for (var i=0; i<22; i++) {
                  //Front 9, Front Total, Back 9, Back Total, Round Total
                  fill(BoxColor);
                  rect(0,50+j*50,170,50);
                  rect(170+i*30,50+j*50,30,50);
                  fill(blk);
               }
            }
            text("Par",85,90);
            for (var i=1; i<19; i++) {
               if (i<10) {
                  text(HolePar[Front*9+i-1],185+(i-1)*30,90);
               }
               else {
                  text(HolePar[Back*9+i-10],185+i*30,90);  
               }
            }
            text(TotalStrokes[12],455,90);
            text(TotalStrokes[13],755,90);
            text(TotalStrokes[14],785,90);

            for (var j=0; j<5; j++) {
               for (var i=0; i<22; i++) {

                  if(j===0 && i===1) {
                     text("Hole #",85,140);
                     for (var k=1; k<10; k++) {
                        text(k,185+(k-1)*30,140);
                     }
                     for (var k=10; k<19; k++) {
                        text(k-9,485+(k-10)*30,140);
                     }
                  }
                  if ((j===0 && (i===9 || i>18))) {
                     if (i===9) {
                        text("F",185+i*30,140+j*50);
                     }
                     if (i===19) {
                        text("B",185+i*30,140+j*50);
                     }
                     if (i===20) {
                        text("T",185+i*30,140+j*50);
                     }
                  }
                  if(j>0 && j<=NumberOfPlayers) {
                     text(PlayerName[j-1],85,140+50*j);
                  }
                  if(i<9 && j>0) {
                     if(j<=NumberOfPlayers)
                        text(PlayerHoleStrokes[(j-1)*18+i],185+i*30,140+j*50);
                        if (i===8) {
                           text(TotalStrokes[(j-1)*3],185+(i+1)*30,140+j*50);
                        }
                     }
                  if(i>10 && i<20 && j>0) {
                     if(j<=NumberOfPlayers) {
                        text(PlayerHoleStrokes[(j-1)*18+i-2],185+(i-1)*30,140+j*50);
                        if (i===19) {
                           text(TotalStrokes[(j-1)*3+1],185+(i+0)*30,140+j*50);
                           text(TotalStrokes[(j-1)*3+2],185+(i+1)*30,140+j*50);
                        }
                     }
                  }
               }
            }
                       
            for (var j=0; j<6; j++) {
               for (var i=0; i<22; i++) {
                  //Front 9, Front Total, Back 9, Back Total, Round Total
                  fill(BoxColor);
                  rect(0,400+j*50,170,50);
                  rect(170+i*30,400+j*50,30,50);
               }
            }                       
            fill(blk);
            for (var j=0; j<7; j++) {
               for (var i=0; i<22; i++) {

                  if(j===0 && i===1) {
                     text("Points",85,440);
                     for (var k=1; k<10; k++) {
                        text(k,185+(k-1)*30,440);
                     }
                     for (var k=10; k<19; k++) {
                        text(k-9,485+(k-10)*30,440);
                     }
                  }
                  if ((j===0 && (i===9 || i>18))) {
                     if (i===9) {
                        text("F",185+i*30,440+j*50);
                     }
                     if (i===19) {
                        text("B",185+i*30,440+j*50);
                     }
                     if (i===20) {
                        text("T",185+i*30,440+j*50);
                     }
                  }
                  if(j>0 && j<=NumberOfPlayers) {
                     text(PlayerName[j-1],85,440+50*j);
                  }
                  if(i<9 && j>0 && j<=NumberOfPlayers) {    
                        text(PlayerHoleScore[(j-1)*18+i],185+i*30,440+j*50);
                        if (i===8) {
                           text(TotalPoints[(j-1)*3],185+(i+1)*30,440+j*50);
                        }
                  }

                  if(i>10 && i<20 && j>0 && j<=NumberOfPlayers) {
                        text(PlayerHoleScore[(j-1)*18+i-2],185+(i-1)*30,440+j*50);
                        if (i===19) {
                           text(TotalPoints[(j-1)*3+1],185+(i+0)*30,440+j*50);
                           text(TotalPoints[(j-1)*3+2],185+(i+1)*30,440+j*50);
                        }
                  }
                  if(j===5) {
                     text("TeamTotal",85,440+50*j);
                     if(i<9 && j>0) {
                        text(PlayerHoleScore[(j-1)*18+i],185+i*30,440+j*50);
                        if (i===8) {
                           text(TotalPoints[(j-1)*3],185+(i+1)*30,440+j*50);
                        }
                     }
                     if(i>10 && i<20 && j>0) {
                        text(PlayerHoleScore[(j-1)*18+i-2],185+(i-1)*30,440+j*50);
                        if (i===19) {
                           text(TotalPoints[(j-1)*3+1],185+(i+0)*30,440+j*50);
                           text(TotalPoints[(j-1)*3+2],185+(i+1)*30,440+j*50);
                        }
                     }
                  }
               }
            }
         };
         var showSummary = function() {
            
            
         };


         mouseClicked = function() {
            background(BackColor);
            if(mouseX>=0 && mouseX<=200 && mouseY>=1050 && mouseY<=1150) {
               CourseSet=0;
               AceScreen=1;
            }
            if(mouseX>=200 && mouseX<=400 && mouseY>=1050 && mouseY<=1150) {
               AceScreen=2;
            }            
            if(mouseX>=400 && mouseX<=600 && mouseY>=1050 && mouseY<=1150) {
               AceScreen=3;
            }            
            if(mouseX>=600 && mouseX<=800 && mouseY>=1050 && mouseY<=1150) {
               AceScreen=4;
            }                        
            if(AceScreen===1) {
               for (i=0; i<3; i++) {
//                  SELECT FRONT AND BACK COURSES
                  if(mouseX>=100+200*i && mouseX<=300+200*i && mouseY>=70 && mouseY<=140) {
                     Front=i;
                  }
                  if(mouseX>=100+200*i && mouseX<=300+200*i && mouseY>=200 && mouseY<=270) {
                     Back=i;
                  }
                  if(mouseX>=300 && mouseX<=500 && mouseY>=300 && mouseY<=370) {
                     if(Front>=0 && Front<=2 && Back>=0 && Back<=2 && Front!=Back) {
                        CourseSet=1;
                        background(BackColor);

                     }
                     else {
                        textSize(35);
                        fill(255,0,0);
                        text("Select Different Front and Back Courses!",400,450);
                     }
                  }
               }
               if(mouseX>=300 && mouseX<=500 && mouseY>=800 && mouseY<=870) {
                  AceScreen=2;
                  background(BackColor);
               }
            }

            if(AceScreen===2) {
               for (var i = 0; i < NumberOfPlayers; i++) {
                  for (var j = 0; j < 8; j++) {
                     if(mouseX>=220+70*j && mouseX<=290+70*j && mouseY>=200+i*80 && mouseY<=280+i*80) {
                        PlayerHoleStrokes[i*18+HoleNum-1]=j+1;
                        if(HoleNum<10) {
                           PlayerHoleScore[i*18+HoleNum-1]=PointValue[j+1-HolePar[Front*9+HoleNum-1]+4];
                        }
                        else {
                           PlayerHoleScore[i*18+HoleNum-1]=PointValue[j+1-HolePar[Back*9+HoleNum-1-9]+4];
                        }
                     }
                  }
               }
               if(mouseX>=50 && mouseX<=250 && mouseY>=550 && mouseY<=630) { 
                  if(HoleNum>1) {
                        HoleNum=HoleNum-1;
                  }
               }
               if(mouseX>=550 && mouseX<=750 && mouseY>=550 && mouseY<=630) {
                  if(HoleNum<18) {
                     HoleNum=HoleNum+1;
                  }
               } 
                  PlayerHoleScore[4*18+HoleNum-1]=PlayerHoleScore[0*18+HoleNum-1]+PlayerHoleScore[1*18+HoleNum-1]+PlayerHoleScore[2*18+HoleNum-1]+PlayerHoleScore[3*18+HoleNum-1];
            }
            draw();            
         };


        // AceScreen Value:
        // 1 = Setup Round with up to 4 Players and Select Front & Back Courses
        // 2 = Add Scores for up to 4 Players for 18 Holes
        // 3 = Display Scorecard for up to 4 Players with Team Points per Hole
        // 4 = Display Results Strokes by Player & Team (Front / Back / Total)


//       ROUND SETUP INITIAL VARIABLES
         var CourseSet = 0;
         var Front = 3;
         var Back = 3;
         var AceScreen = 1;
         var NumberOfPlayers = 0;
         var NoP="0";

//       SCORE INPUT INITIAL VARIABLES
         var HoleNum = 1;

//       SCORECARD INITIAL VARIABLES


//       RESULTS INITIAL VARIABLES

         
         draw = function() {

// Round SETUP Section
            ScreenSelect();

            if (AceScreen===1) {
               
               enterSetup();

               
            }
            
            if (AceScreen===2) {

               enterStrokes ();

            }
            
            if (AceScreen===3) {

               showScoreCard();
            }
            
            if (AceScreen===4) {


            }











        };
    }
    };
    // Get the canvas that Processing-js will use
    var canvas = document.getElementById("mycanvas"); 
    // Pass the function sketchProc (defined in myCode.js) to Processing's constructor.
    var processingInstance = new Processing(canvas, ACE); 
 

 </script>

</html>
